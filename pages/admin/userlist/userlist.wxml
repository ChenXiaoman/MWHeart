<view class="page">
  <view class="page__hd">
    <block wx:for="{{userList}}" wx:for-item="userItem" wx:key="">
      <template is="userCell" data="{{...userItem}}" />
    </block>
  </view>
</view>


<template name="userCell">
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell">
      <view class="weui-cell__bd">{{index}}. {{name}}</view>
      <view class="weui-cell__ft">{{status}}</view>

      <text decode="{{true}}" space="{{true}}">&nbsp;&nbsp;</text>

      <view class="weui-media-box__info__meta weui-media-box__info__operate">
        <button class="weui-btn mini-btn" type="default" size="mini" catchtap="deleteUser" data-id="{{id}}">delete</button>

<text decode="{{true}}" space="{{true}}">&nbsp;</text>

        <button class="weui-btn mini-btn" type="default" size="mini" catchtap="toModifyUser" data-id="{{id}}" data-name="{{name}}" data-status="{{status}}">edit</button>
      </view>
    </view>
  </view>
</template>

<!-- Modify User Panel -->
<view class="notice" id="notice" style="opacity: 1;" wx:if="{{isModifyUser}}">
  <view class='box'>
    <view class="weui-mask"></view>
    <view class="weui-dialog weui-skin_android">
      <view class="weui-dialog__hd">
        <strong class="weui-dialog__title">Edit User</strong>
      </view>
      <form bindsubmit="modifyUser">
        <view class="weui-dialog__bd">
          <view class="weui-cells__title">Name</view>
          <view class="weui-cells weui-cells_after-title">
            <view class="weui-cell weui-cell_input">
              <view class="weui-cell__bd">
                <input class="weui-input" name="name" value="{{nowName}}"/>
              </view>
            </view>
          </view>

          <view class="weui-cells__title">Status</view>
          <view class="weui-cells weui-cells_after-title">
            <view class="weui-cell weui-cell_input">
              <view class="weui-cell__bd">
                <input class="weui-input" name="name" value="{{nowStatus}}"/>
              </view>
            </view>
          </view>
        </view>
        <view class="weui-btn-area">
          <button class="weui-btn" type="default" bindtap="noneWindows">取消</button>
          <button class="weui-btn" type="default" formType="submit">提交</button>
        </view>
      </form>
    </view>
  </view>
</view>