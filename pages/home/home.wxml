<loading hidden="{{!loading}}">
  loading...
</loading>
<view class="page">
  <view class="page__bd">
    <view class="weui-panel weui-panel_access">
      <view class="weui-panel__bd">

        <!-- Brief Description -->
        <view class="weui-media-box weui-media-box_text">
          <view class="weui-media-box__title weui-media-box__title_in-text">Event Description</view>
          <view class="weui-media-box__desc">{{eventDescription}}</view>
        </view>

        <!-- Time and Location -->
        <view class="weui-media-box weui-media-box_text">
          <view class="weui-media-box__title weui-media-box__title_in-text">Time</view>
          <view class="weui-media-box__desc">{{time}}</view>

          <!-- New Line -->
          <text>\n</text>

          <view class="weui-media-box__title weui-media-box__title_in-text">Location</view>
          <view class="location">
            <view class="weui-media-box__desc">{{location}}</view>
          </view>
          <!-- map.wxml -->
<map id="map" longitude="103.812195" latitude="1.272070" scale="14" controls="{{controls}}" bindcontroltap="controltap" markers="{{markers}}" bindmarkertap="markertap" polyline="{{polyline}}" bindregionchange="regionchange" show-location style="width: 100%; height: 300px;" bindtap="click"></map>

        </view>

        <!-- Bonus Description -->
        <view class="weui-media-box weui-media-box_text">
          <view class="weui-media-box__title weui-media-box__title_in-text">Bonus</view>
          <view class="weui-media-box__desc">{{bonusDescription}}</view>
          <view class="weui-media-box__desc" wx:for="{{bonusArray}}" wx:key="unique">
            {{index}}: {{item.msg}}
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- Past Event -->
  <view class="page__desc">Past Event</view>
  <view class="page">
    <view class="weui-panel__bd">
      <block wx:if="{{eventList.length > 0}}">
        <navigator class="weui-media-box weui-media-box_text" wx:for="{{eventList}}" wx:key="eventItem" url="../eventDetail/eventDetail?isMyEvent=true&objectId={{item.objectId}}">
          <view class="weui-media-box__title weui-media-box__title_in-text">
            {{item.fullDate}}</view>
          <view class="weui-media-box__desc">{{item.fullDeadline}}</view>
          <view class="weui-media-box__info">
            <view class="weui-media-box__desc">Event Status: {{statusArray[item.eventStatus]}}</view>
          </view>

          <view wx:if="{{item.pic._url != null}}" class="image_box">
            <view class="picPre">
              <image src="{{item.pic._url}}" mode="aspectFit"></image>
            </view>
          </view>
        </navigator>
      </block>
      <block wx:else>
        <view class="weui-media-box weui-media-box_text">
          <view class="weui-media-box__title weui-media-box__title_in-text">
            暂无内容</view>
          <view class="weui-media-box__desc"></view>
        </view>
      </block>
    </view>
  </view>
</view>